<!DOCTYPE html>
<html lang="ru" class="h-100" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head"/>

<body class="d-flex flex-column h-100">
<div th:replace="fragments/navbar">Navbar</div>
<main class="flex-shrink-0">
  <div class="container">
    <div class="row">
      <div class="col-md-2"></div>
      <div class="jumbotron rounded col-md-8 align-self-center pt-5">
        <h2 class="text-center text-dark mt-5">Билеты</h2>


        <div th:each="ticket : ${model.tickets}" class="d-flex flex-column bg-text mb-3 p-3 border rounded">
          <h2 th:text="'Билет: ' ">ID билета</h2>
          <h4 th:text="'Пассажир: ' + ${ticket.passengerSurname} + ' ' + ${ticket.passengerName} + ' ' + ${ticket.passengerPatronymic}">Пассажир</h4>
          <h4 th:text="'Рейс: ' + ${ticket.tripId}">ID рейса</h4>
          <h4 th:text="'Тур: ' + ${ticket.tourName}">Название тура</h4>
          <h4 th:text="'Дата: ' + ${ticket.startDate} + ' - ' + ${ticket.endDate}">Даты рейса</h4>
          <h4 th:text="'Цена билета: ' + ${ticket.price}">Цена билета</h4>
          <h4 th:text="'Статус билета: ' + ${ticket.ticketStatus.getValue()}">Статус билета</h4>



        <div class="mt-2" >
            <a class="btn btn-danger" th:if="${ticket.ticketStatus == T(edu.rutmiit.demo.dto.ticket.TicketStatus).AWAITING}" th:href="@{/ticket/{id}/delete(id=${ticket.id})}"
               onclick="return confirm('Вы уверены, что хотите отказаться от билета?');">Отменить</a>
            <a class="btn btn-secondary"
               th:href="@{/ticket/{id}(id=${ticket.id})}">Подробнее</a>
          </div>
        </div>


      </div>
    </div>
  </div>
</main>
<footer th:replace="fragments/footer"/>
</body>
</html>